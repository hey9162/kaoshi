(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7dba258"],{"57cf":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"middle-container"},[e("div",{staticClass:"layout-container"},[e("div",{staticClass:"breadcrumb"},[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),e("el-breadcrumb-item",[t._v("组卷练习")]),e("el-breadcrumb-item",[t._v(t._s(t.name))])],1)],1),t.init?e("div",[t._l(t.rows(),function(i){return e("select-radio",{key:i.id,staticClass:"pull-left simulate",attrs:{content:i,topicNum:t.topicNum,pages:t.contents.pages,isSimulation:!0},on:{goTopicEvent:t.goTopic,previewImg:t.showImg,answer:t.answerFun,simulationEve:t.simulationEves}})}),e("div",{staticClass:"pull-left sheet"},[e("el-card",[e("div",{staticClass:"clearfix"},[e("h3",{staticClass:"title"},[t._v("答题卡")]),e("span",{staticClass:"gray pull-right"},[t._v("1/100")])]),e("hr"),e("div",{staticClass:"clearfix no-box"},t._l(t.contents["rows"],function(i,s){return e("span",{staticClass:"item-no",class:[t.palyedIds.indexOf(i.id)>-1?"dirty":"",s==t.topicNum?"current":""],on:{click:function(i){return t.goTopic({type:3},s)}}},[t._v(t._s(s+1))])}),0),e("hr"),e("div",{staticClass:"tip-no"},[e("div",[e("span",{staticClass:"item-no"}),t._v("未答题")]),e("div",[e("span",{staticClass:"item-no dirty"}),t._v("已答题")]),e("div",[e("span",{staticClass:"item-no current"}),t._v("当前题")])]),e("hr"),e("el-button",{staticClass:"full-btn",attrs:{type:"primary"},on:{click:t.submit}},[t._v("交卷")])],1),e("el-card",{staticClass:"tip-time"},[e("div",{staticClass:"clearfix"},[e("span",{staticClass:"gray pull-left"},[t._v("已用时间： "+t._s(t.time.timeStr))]),t.isStop?t._e():e("el-button",{staticClass:"pull-right",on:{click:function(i){return t.timeCtrl(0)}}},[t._v("暂停")]),t.isStop?e("el-button",{staticClass:"pull-right",on:{click:function(i){return t.timeCtrl(1)}}},[t._v("继续")]):t._e()],1)])],1)],2):t._e()]),e("el-dialog",{attrs:{visible:t.imgVisible},on:{"update:visible":function(i){t.imgVisible=i}}},[e("img",{staticStyle:{width:"100%"},attrs:{src:t.imgVisibleUrl,alt:""}})]),e("el-dialog",{attrs:{title:"提示",visible:t.submitVisible,width:"30%"},on:{"update:visible":function(i){t.submitVisible=i}}},[e("span",[t._v("您还剩余"),e("span",{staticClass:"red"},[t._v(t._s(t.remainder))]),t._v("道题目未作答，确认交卷？")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.submitConfirm}},[t._v("交 卷")]),e("el-button",{on:{click:function(i){t.submitVisible=!1}}},[t._v("继续做题")])],1)])],1)},n=[],o=(e("7f7f"),e("e814")),a=e.n(o),c=(e("28a5"),e("a481"),e("ac6a"),e("f499")),r=e.n(c),u=e("795b"),l=e.n(u),m=e("3ff4"),p=e("3b3c"),h=e("ff6b"),f=e("5308"),d={name:"simulation",data:function(){return{data:{},imgVisible:!1,submitVisible:!1,imgVisibleUrl:"",topicNum:0,init:!1,palyedIds:[],victoryIds:[],errIds:[],time:{},name:"",isStop:!1,contents:{rows:[{}],pages:{total:0}}}},components:{SelectRadio:m["a"]},created:function(){this.data=Object(f["a"])("simulation"),this.initData(),this.time=new h["a"],this.time.start()},mounted:function(){this.init=!0},computed:{remainder:function(){return this.contents["rows"].length-this.palyedIds.length}},beforeRouteLeave:function(t,i,e){var s=window.confirm("当前正在模拟考试，系统将不会保留当前更改");s?e():e(!1)},methods:{rows:function(){return[this.contents["rows"][this.topicNum]]},showImg:function(t){this.imgVisible=!0,this.imgVisibleUrl=t},getVolume:function(){return this.collectIds=this.data.ids,new l.a(function(t){t()})},answerFun:function(t){this.contents["rows"][this.topicNum].selfAnswer=t},getTopicByIdsCollec:function(){var t=this;Object(p["h"])({ids:r()(this.collectIds)}).then(function(i){i.data.forEach(function(t){t.question=t.question.replace(/^(\d+.)|(\d+.\d+.)/,"")}),t.contents.rows=i.data})},goTopic:function(t,i){switch(t.type){case 1:this.topicNum--;break;case 2:this.topicNum++;break;case 3:this.topicNum=i;break}},simulationEves:function(t){this.palyedIds.push(t.id),1==t.result?this.victoryIds.push(t.id):this.errIds.push(t.id)},timeCtrl:function(t){0===t&&(this.isStop=!0,this.time.stop()),1===t&&(this.isStop=!1,this.time.continue())},submit:function(){this.submitVisible=!0},submitConfirm:function(){this.submitVisible=!1;var t={};this.collectIds.forEach(function(i){var e=i.split("-");t[[e[0]]]=e[1]});var i=0;this.victoryIds.forEach(function(e){i+=a()(t[e])});var e={count:this.palyedIds.length,total:this.contents["rows"].length,victoryRatio:this.victoryIds.length/this.palyedIds.length,time:this.time.timeStr,errIds:this.errIds,score:i,submitTime:new Date,name:this.name};Object(f["d"])("isRecite",!0),this.$router.push({path:"/online/result",query:{data:r()(e)}})},initData:function(){var t=this;this.data.ids&&(this.name=this.data.name,this.topicNum=0,this.getVolume().then(function(){t.getTopicByIdsCollec()}))}}},b=d,v=(e("5c40"),e("2877")),g=Object(v["a"])(b,s,n,!1,null,null,null);i["default"]=g.exports},"5c40":function(t,i,e){"use strict";var s=e("eaff"),n=e.n(s);n.a},"5d6b":function(t,i,e){var s=e("e53d").parseInt,n=e("a1ce").trim,o=e("e692"),a=/^[-+]?0[xX]/;t.exports=8!==s(o+"08")||22!==s(o+"0x16")?function(t,i){var e=n(String(t),3);return s(e,i>>>0||(a.test(e)?16:10))}:s},7445:function(t,i,e){var s=e("63b6"),n=e("5d6b");s(s.G+s.F*(parseInt!=n),{parseInt:n})},"7f7f":function(t,i,e){var s=e("86cc").f,n=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in n||e("9e1e")&&s(n,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},a1ce:function(t,i,e){var s=e("63b6"),n=e("25eb"),o=e("294c"),a=e("e692"),c="["+a+"]",r="​",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),m=function(t,i,e){var n={},c=o(function(){return!!a[t]()||r[t]()!=r}),u=n[t]=c?i(p):a[t];e&&(n[e]=u),s(s.P+s.F*c,"String",n)},p=m.trim=function(t,i){return t=String(n(t)),1&i&&(t=t.replace(u,"")),2&i&&(t=t.replace(l,"")),t};t.exports=m},b9e9:function(t,i,e){e("7445"),t.exports=e("584a").parseInt},e692:function(t,i){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,i,e){t.exports=e("b9e9")},eaff:function(t,i,e){},ff6b:function(t,i,e){"use strict";e.d(i,"b",function(){return o}),e.d(i,"a",function(){return a});var s=e("e814"),n=e.n(s);function o(t,i){var e=setTimeout(function(){t.view.timeNum>0?(t.view.timeNum--,o(t,i)):(clearTimeout(e),i())},1e3)}function a(t,i){this.init(t,i)}a.prototype.init=function(t,i){this.time=t||0,this.timer=void 0,this.timeStr="00:00:00",this.type=void 0===i||i},a.prototype.start=function(){this.reTime()},a.prototype.stop=function(){clearTimeout(this.timer)},a.prototype.continue=function(){this.reTime()},a.prototype.reTime=function(){if(this.type)this.time++;else{if(!(this.time>0))return void this.outputTime("00:00:00");this.time--}var t=n()(this.time/3600),i=n()((this.time-3600*t)/60),e=this.time-3600*t-60*i;t<10&&(t="0".concat(t)),i<10&&(i="0".concat(i)),e<10&&(e="0".concat(e)),this.outputTime("".concat(t,":").concat(i,":").concat(e)),this.timer=setTimeout(this.reTime.bind(this),1e3)},a.prototype.outputTime=function(t){this.timeStr=t}}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74298ab9"],{"11e9":function(t,e,r){var a=r("52a7"),n=r("4630"),i=r("6821"),o=r("6a99"),c=r("69a8"),s=r("c69a"),u=Object.getOwnPropertyDescriptor;e.f=r("9e1e")?u:function(t,e){if(t=i(t),e=o(e,!0),s)try{return u(t,e)}catch(r){}if(c(t,e))return n(!a.f.call(t,e),t[e])}},2083:function(t,e,r){},"230a":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"middle-container"},[r("div",{staticClass:"clearfix online-nav",staticStyle:{"background-color":"#fff"}},[r("div",{staticClass:"layout-container clearfix"},[r("div",{staticClass:"pull-left"},t._l(t.nav,function(e){return r("div",{key:e.tit,staticClass:"nav-item",class:e.isCurrent?"active":""},[r("router-link",{attrs:{to:e.url}},[t._v(t._s(e.tit))])],1)}),0)])]),r("div",{staticClass:"layout-container smart"},[t.pageData?r("el-card",{staticClass:"box-card"},[r("el-form",{ref:"ruleForm",attrs:{model:t.pageData,rules:t.rules}},[r("h3",{staticClass:"title"},[t._v("试卷名称")]),r("el-form-item",{attrs:{prop:"title"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.pageData.title,callback:function(e){t.$set(t.pageData,"title",e)},expression:"pageData.title"}})],1),r("h3",{staticClass:"title"},[t._v("选择科目")]),r("el-form-item",{attrs:{label:"",prop:"paper_id"}},[r("el-radio-group",{on:{change:t.paperChange},model:{value:t.pageData.paper_id,callback:function(e){t.$set(t.pageData,"paper_id",e)},expression:"pageData.paper_id"}},t._l(t.pageData.paper,function(e){return r("el-radio",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])}),1)],1),r("h3",{staticClass:"title"},[t._v("题目来源")]),r("el-radio-group",{model:{value:t.source,callback:function(e){t.source=e},expression:"source"}},[r("el-radio",{attrs:{label:1}},[t._v("考试猫")])],1),r("h3",{staticClass:"title"},[t._v("题目配置")]),r("table",{staticClass:"custom-table"},[r("thead",[r("tr",{staticClass:"gray"},[r("th",[t._v("题型")]),r("th",[t._v("数量")]),r("th",[t._v("分值")]),r("th",[t._v("合计")]),r("th")])]),r("tbody",[t._l(t.topicList,function(e,a){return r("tr",[r("td",[t._v(t._s(e.name)+"\n              "),r("span",{staticClass:"gray"},[t._v("（共计"+t._s(e.total)+"道）")])]),r("td",[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:parseInt(e.total)},model:{value:e.count,callback:function(r){t.$set(e,"count",r)},expression:"item.count"}})],1),r("td",[r("el-input-number",{attrs:{min:0,max:100},model:{value:e.score,callback:function(r){t.$set(e,"score",r)},expression:"item.score"}})],1),r("td",[t._v("\n              共计"),r("span",{staticClass:"theme-color"},[t._v(t._s(e.count*e.score))]),t._v("分\n            ")]),r("td",[r("el-button",{on:{click:function(e){return t.resetRow(a)}}},[t._v("重置")])],1)])}),t.topicList.length>0?r("tr",[r("td"),r("td",[t._v("共计"),r("span",{staticClass:"theme-color"},[t._v(t._s(t.totalTopic))]),t._v("道题")]),r("td"),r("td",[t._v("共计"),r("span",{staticClass:"theme-color"},[t._v(t._s(t.totalScore))]),t._v("分")]),r("td")]):t._e(),r("tr",[r("td",{attrs:{colspan:"5"}},[r("el-button",{on:{click:function(e){return t.resetAll(t.index)}}},[t._v("清空重置")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.makePoper("ruleForm")}}},[t._v("生成试卷")])],1)])],2)])],1)],1):t._e()],1)])},n=[],i=(r("7f7f"),r("ac6a"),r("e814")),o=r.n(i),c=(r("c5f6"),r("69d7")),s=(r("5c96"),{name:"smart",data:function(){return{input:"",input1:0,radio:1,radioInp:"",source:1,id:"",nav:[{tit:"智能组件",isCurrent:!0,url:"/set-volume/smart"},{tit:"我的组卷",url:"/set-volume/mine"}],topicList:[{type:String,count:Number,score:Number,total:Number}],rules:{title:[{required:!0,message:"试卷名称不能为空",trigger:"blur"}],paper_id:[{required:!0,message:"科目不能为空",trigger:"blur"}]},pageData:{title:"",paper_id:""}}},created:function(){this.getQuestions()},computed:{totalTopic:function(){return this.topicList.reduce(function(t,e,r,a){return o()(t)+o()(e.count)},0)},totalScore:function(){return this.topicList.reduce(function(t,e,r,a){return t.count?o()(t.count*t.score)+o()(e.count*e.score):o()(t)+o()(e.count*e.score)},0)}},methods:{resetRow:function(t){this.topicList[t].count=0,this.topicList[t].score=0},resetAll:function(){this.topicList.forEach(function(t){t.count=0,t.score=0})},paperChange:function(t){var e=this;this.pageData.paper.forEach(function(r){r.id===t&&(e.topicList=r.config)})},makePoper:function(t){var e=this,r={title:this.pageData.title,paper_id:this.pageData.paper_id,source:this.source,papers:this.topicList,id:this.id};this.$refs[t].validate(function(t){if(!t)return document.documentElement.scrollIntoView();Object(c["d"])(r).then(function(t){var a;a=r.id?"组卷编辑成功":"组卷新增成功",e.$message({message:a,type:"success"}),setTimeout(function(){e.$router.push("/set-volume/mine")},1500)})})},getQuestions:function(){var t=this;Object(c["c"])().then(function(e){if(t.$router.apps[0]._route.query.data){var r=JSON.parse(t.$router.apps[0]._route.query.data);t.id=r.id,t.pageData=e,t.pageData.paper_id=r.paper_id,t.topicList=r.papers,t.pageData.title=r.name,t.pageData.paper.forEach(function(e){e.id===r.paper_id&&(e.config=t.topicList)})}else t.pageData=e,t.topicList=t.pageData.paper[0].config})}}}),u=s,p=(r("9c97"),r("2877")),l=Object(p["a"])(u,a,n,!1,null,null,null);e["default"]=l.exports},"5d6b":function(t,e,r){var a=r("e53d").parseInt,n=r("a1ce").trim,i=r("e692"),o=/^[-+]?0[xX]/;t.exports=8!==a(i+"08")||22!==a(i+"0x16")?function(t,e){var r=n(String(t),3);return a(r,e>>>0||(o.test(r)?16:10))}:a},"5dbc":function(t,e,r){var a=r("d3f4"),n=r("8b97").set;t.exports=function(t,e,r){var i,o=e.constructor;return o!==r&&"function"==typeof o&&(i=o.prototype)!==r.prototype&&a(i)&&n&&n(t,i),t}},"69d7":function(t,e,r){"use strict";r.d(e,"b",function(){return o}),r.d(e,"d",function(){return c}),r.d(e,"c",function(){return s}),r.d(e,"a",function(){return u});var a=r("795b"),n=r.n(a),i=(r("7f7f"),r("ac6a"),r("b775"));function o(t){return Object(i["a"])({url:"user/paper/my",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/user/paper/assembly",method:"post",data:t})}function s(){function t(t,e,r,a,n){t.count=a,t.score=n,t.qtype=r,t.total=e[r]}return Object(i["a"])({url:"/questions/all",method:"get"}).then(function(e){var r={title:"",paper_id:"245768",paper:[]};return e.data.forEach(function(e){var a={};for(var n in a.id=e.id,a.name=e.name,a.config=[],e.questions){var i={};switch(n){case"1":i.name="单选",t(i,e.questions,n,10,1);break;case"2":i.name="多选",t(i,e.questions,n,10,1);break;case"3":i.name="判断",t(i,e.questions,n,10,1);break;case"4":i.name="填空题",t(i,e.questions,n,10,1);break;case"5":i.name="简答填空题",t(i,e.questions,n,10,1);break;case"6":i.name="简答填",t(i,e.questions,n,10,1);break;case"7":i.name="案例分析",t(i,e.questions,n,10,1);break;case"8":i.name="工作票改错",t(i,e.questions,n,10,1);break;default:break}a.config.push(i)}r.paper.push(a)}),new n.a(function(t){t(r)})})}function u(t){return Object(i["a"])({url:"/user/paper/del?ids=[".concat(t,"]"),method:"get"})}},7445:function(t,e,r){var a=r("63b6"),n=r("5d6b");a(a.G+a.F*(parseInt!=n),{parseInt:n})},"7f7f":function(t,e,r){var a=r("86cc").f,n=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in n||r("9e1e")&&a(n,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"8b97":function(t,e,r){var a=r("d3f4"),n=r("cb7c"),i=function(t,e){if(n(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,r){return i(t,r),e?t.__proto__=r:a(t,r),t}}({},!1):void 0),check:i}},9093:function(t,e,r){var a=r("ce10"),n=r("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,n)}},"9c97":function(t,e,r){"use strict";var a=r("2083"),n=r.n(a);n.a},a1ce:function(t,e,r){var a=r("63b6"),n=r("25eb"),i=r("294c"),o=r("e692"),c="["+o+"]",s="​",u=RegExp("^"+c+c+"*"),p=RegExp(c+c+"*$"),l=function(t,e,r){var n={},c=i(function(){return!!o[t]()||s[t]()!=s}),u=n[t]=c?e(f):o[t];r&&(n[r]=u),a(a.P+a.F*c,"String",n)},f=l.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(p,"")),t};t.exports=l},aa77:function(t,e,r){var a=r("5ca1"),n=r("be13"),i=r("79e5"),o=r("fdef"),c="["+o+"]",s="​",u=RegExp("^"+c+c+"*"),p=RegExp(c+c+"*$"),l=function(t,e,r){var n={},c=i(function(){return!!o[t]()||s[t]()!=s}),u=n[t]=c?e(f):o[t];r&&(n[r]=u),a(a.P+a.F*c,"String",n)},f=l.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(p,"")),t};t.exports=l},b9e9:function(t,e,r){r("7445"),t.exports=r("584a").parseInt},c5f6:function(t,e,r){"use strict";var a=r("7726"),n=r("69a8"),i=r("2d95"),o=r("5dbc"),c=r("6a99"),s=r("79e5"),u=r("9093").f,p=r("11e9").f,l=r("86cc").f,f=r("aa77").trim,d="Number",m=a[d],v=m,_=m.prototype,h=i(r("2aeb")(_))==d,b="trim"in String.prototype,g=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():f(e,3);var r,a,n,i=e.charCodeAt(0);if(43===i||45===i){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+e}for(var o,s=e.slice(2),u=0,p=s.length;u<p;u++)if(o=s.charCodeAt(u),o<48||o>n)return NaN;return parseInt(s,a)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof m&&(h?s(function(){_.valueOf.call(r)}):i(r)!=d)?o(new v(g(e)),r,m):g(e)};for(var y,k=r("9e1e")?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;k.length>x;x++)n(v,y=k[x])&&!n(m,y)&&l(m,y,p(v,y));m.prototype=_,_.constructor=m,r("2aba")(a,d,m)}},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,r){t.exports=r("b9e9")},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
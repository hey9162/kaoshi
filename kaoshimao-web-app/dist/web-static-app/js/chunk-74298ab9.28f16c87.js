(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74298ab9"],{"11e9":function(t,e,a){var r=a("52a7"),n=a("4630"),i=a("6821"),o=a("6a99"),c=a("69a8"),s=a("c69a"),u=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?u:function(t,e){if(t=i(t),e=o(e,!0),s)try{return u(t,e)}catch(a){}if(c(t,e))return n(!r.f.call(t,e),t[e])}},2083:function(t,e,a){},"230a":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("my-header",[a("div"),a("div",[t._v("组卷")]),a("div")]),a("div",{staticClass:"app-body"},[a("div",{staticClass:"smart"},[t.pageData?a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"ruleForm",attrs:{model:t.pageData,rules:t.rules}},[a("h3",{staticClass:"title"},[t._v("试卷名称")]),a("el-form-item",{attrs:{prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.pageData.title,callback:function(e){t.$set(t.pageData,"title",e)},expression:"pageData.title"}})],1),a("h3",{staticClass:"title"},[t._v("选择科目")]),a("el-form-item",{attrs:{label:"",prop:"paper_id"}},[a("el-radio-group",{on:{change:t.paperChange},model:{value:t.pageData.paper_id,callback:function(e){t.$set(t.pageData,"paper_id",e)},expression:"pageData.paper_id"}},t._l(t.pageData.paper,function(e){return a("el-radio",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])}),1)],1),a("h3",{staticClass:"title"},[t._v("题目来源")]),a("el-radio-group",{model:{value:t.source,callback:function(e){t.source=e},expression:"source"}},[a("el-radio",{attrs:{label:1}},[t._v("考试猫")])],1),a("h3",{staticClass:"title"},[t._v("题目配置")]),a("table",{staticClass:"custom-table"},[a("thead",[a("tr",{staticClass:"gray"},[a("th",[t._v("题型")]),a("th",[t._v("数量")]),a("th",[t._v("分值")])])]),a("tbody",[t._l(t.topicList,function(e,r){return a("tr",[a("td",[t._v(t._s(e.name)+"\n                ")]),a("td",[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:parseInt(e.total),size:"mini"},model:{value:e.count,callback:function(a){t.$set(e,"count",a)},expression:"item.count"}})],1),a("td",[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:100,size:"mini"},model:{value:e.score,callback:function(a){t.$set(e,"score",a)},expression:"item.score"}})],1)])}),t.topicList.length>0?a("tr",[a("td"),a("td",[t._v("共计"),a("span",{staticClass:"theme-color"},[t._v(t._s(t.totalTopic))]),t._v("道题")]),a("td",[t._v("共计"),a("span",{staticClass:"theme-color"},[t._v(t._s(t.totalScore))]),t._v("分")])]):t._e(),a("tr",[a("td",{staticStyle:{padding:"5px"},attrs:{colspan:"5"}},[a("el-button",{staticClass:"full-btn",attrs:{type:"primary"},on:{click:function(e){return t.makePoper("ruleForm")}}},[t._v("生成试卷")])],1)])],2)])],1)],1):t._e()],1)]),a("my-nav",{attrs:{index:2}})],1)},n=[],i=(a("7f7f"),a("ac6a"),a("e814")),o=a.n(i),c=(a("c5f6"),a("4f84")),s=a("9d87"),u=a("69d7"),p=(a("5c96"),a("5308")),l={name:"smart",components:{MyHeader:c["a"],MyNav:s["a"]},data:function(){return{input:"",input1:0,radio:1,radioInp:"",source:1,id:"",nav:[{tit:"智能组件",isCurrent:!0,url:"/set-volume/smart"},{tit:"我的组卷",url:"/set-volume/mine"}],topicList:[{type:String,count:Number,score:Number,total:Number}],rules:{title:[{required:!0,message:"试卷名称不能为空",trigger:"blur"}],paper_id:[{required:!0,message:"科目不能为空",trigger:"blur"}]},pageData:{title:"",paper_id:""}}},created:function(){this.getQuestions()},computed:{totalTopic:function(){return this.topicList.reduce(function(t,e,a,r){return o()(t)+o()(e.count)},0)},totalScore:function(){return this.topicList.reduce(function(t,e,a,r){return t.count?o()(t.count*t.score)+o()(e.count*e.score):o()(t)+o()(e.count*e.score)},0)}},methods:{resetRow:function(t){this.topicList[t].count=0,this.topicList[t].score=0},resetAll:function(){this.topicList.forEach(function(t){t.count=0,t.score=0})},paperChange:function(t){var e=this;this.pageData.paper.forEach(function(a){a.id===t&&(e.topicList=a.config)})},makePoper:function(t){var e=this,a={title:this.pageData.title,paper_id:this.pageData.paper_id,source:this.source,papers:this.topicList,id:this.id};this.$refs[t].validate(function(t){if(!t)return document.documentElement.scrollIntoView();Object(u["d"])(a).then(function(t){var r;r=a.id?"组卷编辑成功":"组卷新增成功",e.$message({message:r,type:"success"});var n=JSON.parse(t.data.papers),i=[],o=[];n.forEach(function(t){t.ids.forEach(function(e){o.push(e+"*"+t.score),i.push(e+"")})}),Object(p["d"])("simulationM",{ids:i,customIds:o,name:t.data.name}),setTimeout(function(){e.$router.push("/set-volume/succ?totaltopic=".concat(e.totalTopic,"&totalscore=").concat(e.totalScore))},1500)})})},getQuestions:function(){var t=this;Object(u["c"])().then(function(e){if(t.$router.apps[0]._route.query.data){var a=JSON.parse(t.$router.apps[0]._route.query.data);t.id=a.id,t.pageData=e,t.pageData.paper_id=a.paper_id,t.topicList=a.papers,t.pageData.title=a.name,t.pageData.paper.forEach(function(e){e.id===a.paper_id&&(e.config=t.topicList)})}else t.pageData=e,t.topicList=t.pageData.paper[0].config})}}},f=l,d=(a("9c97"),a("2877")),m=Object(d["a"])(f,r,n,!1,null,null,null);e["default"]=m.exports},"5d6b":function(t,e,a){var r=a("e53d").parseInt,n=a("a1ce").trim,i=a("e692"),o=/^[-+]?0[xX]/;t.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(t,e){var a=n(String(t),3);return r(a,e>>>0||(o.test(a)?16:10))}:r},"5dbc":function(t,e,a){var r=a("d3f4"),n=a("8b97").set;t.exports=function(t,e,a){var i,o=e.constructor;return o!==a&&"function"==typeof o&&(i=o.prototype)!==a.prototype&&r(i)&&n&&n(t,i),t}},"69d7":function(t,e,a){"use strict";a.d(e,"b",function(){return o}),a.d(e,"d",function(){return c}),a.d(e,"c",function(){return s}),a.d(e,"a",function(){return u});var r=a("795b"),n=a.n(r),i=(a("7f7f"),a("ac6a"),a("b775"));function o(t){return Object(i["a"])({url:"user/paper/my",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/user/paper/assembly",method:"post",data:t})}function s(){function t(t,e,a,r,n){t.count=r,t.score=n,t.qtype=a,t.total=e[a]}return Object(i["a"])({url:"/questions/all",method:"get"}).then(function(e){var a={title:"",paper_id:"245768",paper:[]};return e.data.forEach(function(e){var r={};for(var n in r.id=e.id,r.name=e.name,r.config=[],e.questions){var i={};switch(n){case"1":i.name="单选",t(i,e.questions,n,10,1);break;case"2":i.name="多选",t(i,e.questions,n,10,1);break;case"3":i.name="判断",t(i,e.questions,n,10,1);break;case"4":i.name="填空题",t(i,e.questions,n,10,1);break;case"5":i.name="简答填空题",t(i,e.questions,n,10,1);break;case"6":i.name="简答填",t(i,e.questions,n,10,1);break;case"7":i.name="案例分析",t(i,e.questions,n,10,1);break;case"8":i.name="工作票改错",t(i,e.questions,n,10,1);break;default:break}r.config.push(i)}a.paper.push(r)}),new n.a(function(t){t(a)})})}function u(t){return Object(i["a"])({url:"/user/paper/del?ids=[".concat(t,"]"),method:"get"})}},7445:function(t,e,a){var r=a("63b6"),n=a("5d6b");r(r.G+r.F*(parseInt!=n),{parseInt:n})},"7f7f":function(t,e,a){var r=a("86cc").f,n=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in n||a("9e1e")&&r(n,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"8b97":function(t,e,a){var r=a("d3f4"),n=a("cb7c"),i=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,a){return i(t,a),e?t.__proto__=a:r(t,a),t}}({},!1):void 0),check:i}},9093:function(t,e,a){var r=a("ce10"),n=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},"9c97":function(t,e,a){"use strict";var r=a("2083"),n=a.n(r);n.a},a1ce:function(t,e,a){var r=a("63b6"),n=a("25eb"),i=a("294c"),o=a("e692"),c="["+o+"]",s="​",u=RegExp("^"+c+c+"*"),p=RegExp(c+c+"*$"),l=function(t,e,a){var n={},c=i(function(){return!!o[t]()||s[t]()!=s}),u=n[t]=c?e(f):o[t];a&&(n[a]=u),r(r.P+r.F*c,"String",n)},f=l.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(p,"")),t};t.exports=l},aa77:function(t,e,a){var r=a("5ca1"),n=a("be13"),i=a("79e5"),o=a("fdef"),c="["+o+"]",s="​",u=RegExp("^"+c+c+"*"),p=RegExp(c+c+"*$"),l=function(t,e,a){var n={},c=i(function(){return!!o[t]()||s[t]()!=s}),u=n[t]=c?e(f):o[t];a&&(n[a]=u),r(r.P+r.F*c,"String",n)},f=l.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(p,"")),t};t.exports=l},b9e9:function(t,e,a){a("7445"),t.exports=a("584a").parseInt},c5f6:function(t,e,a){"use strict";var r=a("7726"),n=a("69a8"),i=a("2d95"),o=a("5dbc"),c=a("6a99"),s=a("79e5"),u=a("9093").f,p=a("11e9").f,l=a("86cc").f,f=a("aa77").trim,d="Number",m=r[d],h=m,v=m.prototype,b=i(a("2aeb")(v))==d,g="trim"in String.prototype,_=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():f(e,3);var a,r,n,i=e.charCodeAt(0);if(43===i||45===i){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var o,s=e.slice(2),u=0,p=s.length;u<p;u++)if(o=s.charCodeAt(u),o<48||o>n)return NaN;return parseInt(s,r)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof m&&(b?s(function(){v.valueOf.call(a)}):i(a)!=d)?o(new h(_(e)),a,m):_(e)};for(var y,x=a("9e1e")?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;x.length>I;I++)n(h,y=x[I])&&!n(m,y)&&l(m,y,p(h,y));m.prototype=v,v.constructor=m,a("2aba")(r,d,m)}},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,a){t.exports=a("b9e9")},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);